<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 800">
  <!-- Background -->
  <rect width="900" height="800" fill="#f8f9fa" rx="10" ry="10"/>
  
  <!-- Title -->
  <text x="450" y="40" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#326CE5">Kubernetes Infrastructure: Ollama and OpenWebUI Deployment</text>
  
  <!-- Physical Servers Layer -->
  <rect x="100" y="80" width="700" height="120" rx="5" ry="5" fill="#f5f5f5" stroke="#ddd" stroke-width="2"/>
  <text x="180" y="105" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="start" fill="#333">Physical Infrastructure Layer</text>
  
  <!-- Physical Servers -->
  <rect x="150" y="120" width="180" height="60" rx="5" ry="5" fill="#ced4da" stroke="#6c757d" stroke-width="2"/>
  <text x="240" y="155" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Physical Server 1</text>
  
  <rect x="350" y="120" width="180" height="60" rx="5" ry="5" fill="#ced4da" stroke="#6c757d" stroke-width="2"/>
  <text x="440" y="155" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Physical Server 2</text>
  
  <rect x="550" y="120" width="180" height="60" rx="5" ry="5" fill="#ced4da" stroke="#6c757d" stroke-width="2"/>
  <text x="640" y="155" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Physical Server 3</text>
  
  <!-- Virtualization Layer -->
  <rect x="100" y="220" width="700" height="120" rx="5" ry="5" fill="#e6f2ff" stroke="#cce5ff" stroke-width="2"/>
  <text x="180" y="245" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="start" fill="#0056b3">Virtualization Layer</text>
  
  <!-- VMs -->
  <rect x="130" y="260" width="130" height="60" rx="5" ry="5" fill="#b8daff" stroke="#0056b3" stroke-width="2"/>
  <text x="195" y="295" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#0056b3">Control Plane VM</text>
  
  <rect x="280" y="260" width="130" height="60" rx="5" ry="5" fill="#b8daff" stroke="#0056b3" stroke-width="2"/>
  <text x="345" y="295" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#0056b3">Worker VM 1</text>
  
  <rect x="430" y="260" width="130" height="60" rx="5" ry="5" fill="#b8daff" stroke="#0056b3" stroke-width="2"/>
  <text x="495" y="295" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#0056b3">Worker VM 2</text>
  
  <rect x="580" y="260" width="130" height="60" rx="5" ry="5" fill="#b8daff" stroke="#0056b3" stroke-width="2"/>
  <text x="645" y="295" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#0056b3">Worker VM 3</text>
  
  <!-- Kubernetes Cluster Layer -->
  <rect x="100" y="360" width="700" height="150" rx="5" ry="5" fill="#e6f7ef" stroke="#c3e6cb" stroke-width="2"/>
  <text x="180" y="385" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="start" fill="#155724">Kubernetes Cluster</text>
  
  <!-- Nodes -->
  <rect x="130" y="400" width="130" height="90" rx="5" ry="5" fill="#d4edda" stroke="#155724" stroke-width="2"/>
  <text x="195" y="425" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#155724">Control Plane Node</text>
  <text x="195" y="445" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#155724">API Server</text>
  <text x="195" y="465" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#155724">etcd, Scheduler</text>
  <text x="195" y="485" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#155724">Controller Manager</text>
  
  <rect x="280" y="400" width="130" height="90" rx="5" ry="5" fill="#d4edda" stroke="#155724" stroke-width="2"/>
  <text x="345" y="425" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#155724">Worker Node 1</text>
  <text x="345" y="445" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#155724">kubelet</text>
  <text x="345" y="465" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#155724">kube-proxy</text>
  <text x="345" y="485" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#155724">Container Runtime</text>
  
  <rect x="430" y="400" width="130" height="90" rx="5" ry="5" fill="#d4edda" stroke="#155724" stroke-width="2"/>
  <text x="495" y="425" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#155724">Worker Node 2</text>
  <text x="495" y="445" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#155724">kubelet</text>
  <text x="495" y="465" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#155724">kube-proxy</text>
  <text x="495" y="485" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#155724">Container Runtime</text>
  
  <rect x="580" y="400" width="130" height="90" rx="5" ry="5" fill="#d4edda" stroke="#155724" stroke-width="2"/>
  <text x="645" y="425" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#155724">Worker Node 3</text>
  <text x="645" y="445" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#155724">kubelet</text>
  <text x="645" y="465" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#155724">kube-proxy</text>
  <text x="645" y="485" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#155724">Container Runtime</text>
  
  <!-- Workloads Layer -->
  <rect x="100" y="530" width="700" height="230" rx="5" ry="5" fill="#fff3cd" stroke="#ffeeba" stroke-width="2"/>
  <text x="180" y="555" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="start" fill="#856404">Kubernetes Workloads</text>
  
  <!-- Deployments & Pods -->
  <rect x="130" y="570" width="180" height="50" rx="5" ry="5" fill="#ffeeba" stroke="#856404" stroke-width="2"/>
  <text x="220" y="600" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#856404">Ollama Deployment</text>
  
  <rect x="430" y="570" width="180" height="50" rx="5" ry="5" fill="#ffeeba" stroke="#856404" stroke-width="2"/>
  <text x="520" y="600" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#856404">OpenWebUI Deployment</text>
  
  <!-- Arrows from deployments to pods -->
  <line x1="220" y1="620" x2="220" y2="640" stroke="#856404" stroke-width="2"/>
  <line x1="520" y1="620" x2="520" y2="640" stroke="#856404" stroke-width="2"/>
  
  <!-- Pods -->
  <rect x="130" y="640" width="80" height="40" rx="5" ry="5" fill="#EF6C00" stroke="#E65100" stroke-width="2"/>
  <text x="170" y="665" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Ollama Pod</text>
  
  <rect x="230" y="640" width="80" height="40" rx="5" ry="5" fill="#EF6C00" stroke="#E65100" stroke-width="2"/>
  <text x="270" y="665" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Ollama Pod</text>
  
  <rect x="480" y="640" width="80" height="40" rx="5" ry="5" fill="#0277BD" stroke="#01579B" stroke-width="2"/>
  <text x="520" y="665" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">OpenWebUI</text>
  
  <!-- Container ports -->
  <text x="170" y="695" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#E65100">Port 11434</text>
  <text x="520" y="695" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#01579B">Port 3000</text>
  
  <!-- Services -->
  <rect x="130" y="710" width="180" height="40" rx="5" ry="5" fill="#d1c4e9" stroke="#4527a0" stroke-width="2"/>
  <text x="220" y="735" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#4527a0">Ollama Service (ClusterIP)</text>
  
  <rect x="430" y="710" width="180" height="40" rx="5" ry="5" fill="#d1c4e9" stroke="#4527a0" stroke-width="2"/>
  <text x="520" y="735" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#4527a0">OpenWebUI Service (LoadBalancer)</text>
  
  <!-- External Access -->
  <rect x="680" y="530" width="100" height="230" rx="5" ry="5" fill="#f8d7da" stroke="#f5c6cb" stroke-width="2"/>
  <text x="730" y="555" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#721c24">External Access</text>
  
  <rect x="690" y="650" width="80" height="90" rx="5" ry="5" fill="#f5c6cb" stroke="#721c24" stroke-width="2"/>
  <text x="730" y="675" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#721c24">Load Balancer</text>
  <text x="730" y="695" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#721c24">External IP</text>
  <text x="730" y="715" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#721c24">Port 80/443</text>
  
  <!-- Connection lines -->
  <!-- Servers to VMs -->
  <line x1="240" y1="180" x2="195" y2="260" stroke="#6c757d" stroke-width="1" stroke-dasharray="5,5"/>
  <line x1="440" y1="180" x2="345" y2="260" stroke="#6c757d" stroke-width="1" stroke-dasharray="5,5"/>
  <line x1="440" y1="180" x2="495" y2="260" stroke="#6c757d" stroke-width="1" stroke-dasharray="5,5"/>
  <line x1="640" y1="180" x2="645" y2="260" stroke="#6c757d" stroke-width="1" stroke-dasharray="5,5"/>
  
  <!-- VMs to K8s nodes -->
  <line x1="195" y1="320" x2="195" y2="400" stroke="#0056b3" stroke-width="1" stroke-dasharray="5,5"/>
  <line x1="345" y1="320" x2="345" y2="400" stroke="#0056b3" stroke-width="1" stroke-dasharray="5,5"/>
  <line x1="495" y1="320" x2="495" y2="400" stroke="#0056b3" stroke-width="1" stroke-dasharray="5,5"/>
  <line x1="645" y1="320" x2="645" y2="400" stroke="#0056b3" stroke-width="1" stroke-dasharray="5,5"/>
  
  <!-- Nodes to Pods -->
  <line x1="345" y1="490" x2="170" y2="640" stroke="#155724" stroke-width="1" stroke-dasharray="5,5"/>
  <line x1="345" y1="490" x2="270" y2="640" stroke="#155724" stroke-width="1" stroke-dasharray="5,5"/>
  <line x1="495" y1="490" x2="520" y2="640" stroke="#155724" stroke-width="1" stroke-dasharray="5,5"/>
  
  <!-- Pods to Services -->
  <line x1="170" y1="680" x2="170" y2="710" stroke="#7B1FA2" stroke-width="1"/>
  <line x1="270" y1="680" x2="270" y2="710" stroke="#7B1FA2" stroke-width="1"/>
  <line x1="520" y1="680" x2="520" y2="710" stroke="#7B1FA2" stroke-width="1"/>
  
  <!-- OpenWebUI to LoadBalancer -->
  <line x1="610" y1="730" x2="690" y2="695" stroke="#7B1FA2" stroke-width="2"/>
  
  <!-- Internal connection between Ollama and OpenWebUI -->
  <path d="M 220 730 C 220 760 520 760 520 750" stroke="#7B1FA2" stroke-width="2" fill="none"/>
  <text x="370" y="775" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#7B1FA2">Internal communication</text>
  
  <!-- External user -->
  <circle cx="780" cy="600" r="20" fill="#721c24"/>
  <text x="780" y="605" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="white">ðŸ‘¤</text>
  <line x1="780" y1="620" x2="730" y2="650" stroke="#721c24" stroke-width="2"/>
  <text x="780" y="635" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#721c24">User</text>
  
  <!-- Legend -->
  <rect x="20" y="130" width="60" height="230" rx="5" ry="5" fill="white" stroke="#ccc" stroke-width="1"/>
  <text x="50" y="150" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle">Legend</text>
  
  <rect x="30" y="160" width="12" height="12" fill="#ced4da"/>
  <text x="50" y="170" font-family="Arial, sans-serif" font-size="8" text-anchor="start">Server</text>
  
  <rect x="30" y="180" width="12" height="12" fill="#b8daff"/>
  <text x="50" y="190" font-family="Arial, sans-serif" font-size="8" text-anchor="start">VM</text>
  
  <rect x="30" y="200" width="12" height="12" fill="#d4edda"/>
  <text x="50" y="210" font-family="Arial, sans-serif" font-size="8" text-anchor="start">Node</text>
  
  <rect x="30" y="220" width="12" height="12" fill="#ffeeba"/>
  <text x="50" y="230" font-family="Arial, sans-serif" font-size="8" text-anchor="start">Deployment</text>
  
  <rect x="30" y="240" width="12" height="12" fill="#EF6C00"/>
  <text x="50" y="250" font-family="Arial, sans-serif" font-size="8" text-anchor="start">Ollama Pod</text>
  
  <rect x="30" y="260" width="12" height="12" fill="#0277BD"/>
  <text x="50" y="270" font-family="Arial, sans-serif" font-size="8" text-anchor="start">WebUI Pod</text>
  
  <rect x="30" y="280" width="12" height="12" fill="#d1c4e9"/>
  <text x="50" y="290" font-family="Arial, sans-serif" font-size="8" text-anchor="start">Service</text>
  
  <rect x="30" y="300" width="12" height="12" fill="#f5c6cb"/>
  <text x="50" y="310" font-family="Arial, sans-serif" font-size="8" text-anchor="start">External</text>
</svg>

